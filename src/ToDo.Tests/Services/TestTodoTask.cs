using NUnit.Framework;
using Refit;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using ToDo.Services;
using ToDo.Utils;

namespace ToDo.Tests.Services
{
    internal class TestTodoTask
    {
		//Change it with https://developer.microsoft.com/en-us/graph/graph-explorer
		string _accessToken = "eyJ0eXAiOiJKV1QiLCJub25jZSI6InRoUXVOeGYzRTE5SWFrdEE0RVhuUHpIUVAxN1Z1NEpLNlJDdHdBUEpYWmsiLCJhbGciOiJSUzI1NiIsIng1dCI6ImpTMVhvMU9XRGpfNTJ2YndHTmd2UU8yVnpNYyIsImtpZCI6ImpTMVhvMU9XRGpfNTJ2YndHTmd2UU8yVnpNYyJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC9mM2VlZDljMi02OGU0LTQ0ZmQtOWJlOS05YjVjYzc1NzI2YjgvIiwiaWF0IjoxNjQ4NTY5NTAxLCJuYmYiOjE2NDg1Njk1MDEsImV4cCI6MTY0ODU3MzcwNywiYWNjdCI6MCwiYWNyIjoiMSIsImFpbyI6IkFTUUEyLzhUQUFBQTJEdi9ENWd2K3MrSDhvKy9IQUNrWlJMcWsrMUVKaUh0b3lZamJhbVhidXM9IiwiYW1yIjpbInB3ZCJdLCJhcHBfZGlzcGxheW5hbWUiOiJHcmFwaCBFeHBsb3JlciIsImFwcGlkIjoiZGU4YmM4YjUtZDlmOS00OGIxLWE4YWQtYjc0OGRhNzI1MDY0IiwiYXBwaWRhY3IiOiIwIiwiZmFtaWx5X25hbWUiOiJZYWh1aXJhIiwiZ2l2ZW5fbmFtZSI6IkNhcmzDrW4iLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiIxOTAuMjMyLjEwNi4xMSIsIm5hbWUiOiJDYXJsw61uIFlhaHVpcmEiLCJvaWQiOiIwZTJkYmE4Zi1kMmMxLTRhYjItYTIwYS03YmUxOTc1ZjMxMWYiLCJwbGF0ZiI6IjMiLCJwdWlkIjoiMTAwMzIwMDE1Njg1M0E5NiIsInB3ZF9leHAiOiIzMTUzMjUwMjYiLCJwd2RfdXJsIjoiaHR0cHM6Ly9wcm9kdWN0aXZpdHkuc2VjdXJlc2VydmVyLm5ldC9taWNyb3NvZnQ_bWFya2V0aWQ9ZW4tVVNcdTAwMjZlbWFpbD1jYXJsaW4ueWFodWlyYSU0MGhvcnVzLmNvbS51eVx1MDAyNnNvdXJjZT1WaWV3VXNlcnNcdTAwMjZhY3Rpb249UmVzZXRQYXNzd29yZCIsInJoIjoiMC5BU1lBd3RudTgtUm9fVVNiNlp0Y3gxY211QU1BQUFBQUFBQUF3QUFBQUFBQUFBQW1BUGsuIiwic2NwIjoib3BlbmlkIHByb2ZpbGUgVGFza3MuUmVhZFdyaXRlIFVzZXIuUmVhZCBlbWFpbCIsInNpZ25pbl9zdGF0ZSI6WyJrbXNpIl0sInN1YiI6IjVFNExvUFpRbWVZQVZic3hnMGJLbEc3RlpOeGtIckZic1JnRVlwM0twSkUiLCJ0ZW5hbnRfcmVnaW9uX3Njb3BlIjoiU0EiLCJ0aWQiOiJmM2VlZDljMi02OGU0LTQ0ZmQtOWJlOS05YjVjYzc1NzI2YjgiLCJ1bmlxdWVfbmFtZSI6ImNhcmxpbi55YWh1aXJhQGhvcnVzLmNvbS51eSIsInVwbiI6ImNhcmxpbi55YWh1aXJhQGhvcnVzLmNvbS51eSIsInV0aSI6Ink5SEV1QXQxSTBxelI0Y3h2aWdxQVEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfc3QiOnsic3ViIjoiTUEzRmJpbTR2R1VLemY2cTZsb2w5SVN2eTllMGxMNGd4MXZIaG93ZzRqTSJ9LCJ4bXNfdGNkdCI6MTUyMTA2Njg4N30.RJfbjpAY4NDO-7YCB7D-BNvTF6Wlxf2bF78iWiTF4LMUNyowpLnPHeGAH2lG9XhgPASQ2_i4BQ2xNR6KTOs8AKOUhOiwZ-lASeLjqDq-AqnT1z4f_AuXqIe1LsqbEDV8Jn5RQoL8PoRXcKo660yRrAIIpA7MCHpLiMxucv6WVX6EAWqzFSwN8Dh27P1UrCiLVTQDy_4AGzth-iQoxwrwckaXDel8pcdwLRxvLsZAhWteZI-dSH2ckl7Tmf5Cr9neFDu9MHIydo_bN3qDjyHf_Stwpd1zvzS08vqkU0YJrSTEUbBl1KEUXeztPHQEX1wYiofbVaMfHQb5zV8mgRAo7g";
		[Test]
		public async Task GetTask_ShouldReturnTask()
		{
			//It should be dinamyc...
			var listId = "AAMkAGFlMTMyOTVlLTg4MTYtNGNkYi05Y2I1LWIxNjQ3MjQzZGUwZgAuAAAAAABxiwJ7rbfvTL0IfGDSJ4lUAQAstIhkSEopRrR__AvQNI34AACzQA1BAAA=";
			var taskId = "AAMkAGFlMTMyOTVlLTg4MTYtNGNkYi05Y2I1LWIxNjQ3MjQzZGUwZgBGAAAAAABxiwJ7rbfvTL0IfGDSJ4lUBwAstIhkSEopRrR__AvQNI34AACzQA1BAAAstIhkSEopRrR__AvQNI34AACzQBkEAAA=";

			ITodoTaskService _todoTaskService = RestService.For<ITodoTaskService>(TodoAPISettings._baseUrl);
			var task = await _todoTaskService.GetTask(listId, taskId, auth: _accessToken);

			Assert.IsNotNull(task);
		}
	}
}
